## Learning Objectives {.unnumbered}

-   Practice cleaning and wrangling data
-   Practice using `dplyr` and `tidyr` functions
-   Learn how to use the `tibble::tibble()` function to create a data frame
-   Apply concepts learned about data visualization to plot data using `ggplot2`

## Introduction

In this session of R practice, we will continue working with the dataset: [Tobias Schwoerer, Kevin Berry, and Jorene Joe. 2022. A household survey documenting experiences with coastal hazards in a western Alaska community (2021-2022). Arctic Data Center. doi:10.18739/A29Z90D3V.](https://doi.org/10.18739/A29Z90D3V)

::: callout-tip
## Big Idea

In this practice session, we will build upon the previous session by using `dplyr`, `tidyr`, and other packages form the tidyverse to summarize answers of the survey.
:::

## Exercise 2

::: callout-tip
## Set up

-   Work in the same Qmd you did during R practice 1.
-   Add necessary headers and text to describe what you are doing during this practice.
    -   Using Split-Apply-Combine strategy
    -   Creating a Data Frame
    -   Joining Data Frames
    
-   At the top of your document, one line below the three dashed line from the YAML, add a level 2 header called Setup followed by a new code chunk to load the necessary libraries.

```{r}
library(readr)
library(dplyr)
library(tidyr)
library(tibble)
```


:::

### Using Split-Apply-Combine strategy

::: callout-note
## Step 1

Use `group_by` and `summarize` to calculate how many responses there were to each unique answer for question 3.
:::


::: {.callout-note appearance="minimal" collapse="true"}
## Example Code


```{r}

q3_summary <- suvey_data %>% 
    group_by(Q3) %>% 
    summarize(q3_responses = n())

```

:::

### Creating a Data Frame

::: callout-note
## Step 2
Create a `data.frame` containing the definitions to the answer codes in Question 3. Use the [metadata](https://arcticdata.io/catalog/view/doi%3A10.18739%2FA29Z90D3V#urn%3Auuid%3Aab696e67-8ed0-4900-b568-4ee576bc87bd) to get code-definition pairs.

One way of creating a new data frame is by using the  `tribble()` or `tibble()` functions from the [`tibble` package](https://tibble.tidyverse.org/index.html).

**Tip:** Search either in the help page or on the web for information about `tribble()` or `tibble()`. Then decide which on to use to create a new data frame.
    
:::


::: {.callout-note appearance="minimal" collapse="true"}
## Example Code

```{r}

q3_definitions <- tribble(
  ~Q3, ~definition,
  1,   "definition of 1",
  2,   "definition of 2",
  3,   "definition of 3",
  4, "deffinition of 4",
  5, "deffinition of 5",
  NA, "deffinition of NA")



```

:::


### Joining Data Frames

::: callout-note
## Step 3
Use a `left_join` to join your definitions table to the summarized answers
:::

## Bonus

::: callout-note
## Go Further
Explore how you might summarize other questions in these survey results.
:::
